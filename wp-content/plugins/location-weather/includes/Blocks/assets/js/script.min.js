const customSlider=e=>{let t=e.querySelectorAll(".spl-weather-custom-slider-item"),l=e.querySelector(".spl-weather-custom-slider-nav-prev"),a=e.querySelector(".spl-weather-custom-slider-nav-next"),s=0,r=window.getComputedStyle(e),c=parseInt(r.gap)||0,i=t[0]?.offsetWidth,o=t[1]?.offsetWidth,n=Math.floor(e.offsetWidth/(o+c)),d=(n-1)*(o+c),p=(t.length-n)*(o+c)+(i-o),h=t=>{e.scrollTo({left:t,behavior:"smooth"})};l?.addEventListener("click",()=>{h(s=Math.max(0,s-d)),u(s)}),a?.addEventListener("click",()=>{h(s+=d),u(s)});let u=(e=0)=>{l?.classList.toggle("active",e>0),a?.classList.toggle("active",e<p)};u()};function preloaderInitialize(){let e=document.querySelectorAll(".spl-weather-preloader");e.length>0&&e.forEach(e=>{let t=e.getAttribute("data-preloader-id"),l=document.querySelector("#"+t+" .spl-weather-template-wrapper");l&&(l.style.opacity=0,l.style.transition="opacity 0.6s",l.addEventListener("transitionend",()=>{l.style.opacity=1,e.remove()},{once:!0}))})}function initializedForecastSelect(e){let t=e.querySelectorAll(".spl-weather-forecast-select");t?.length>0&&t.forEach(e=>{let t=e.querySelector(".spl-weather-forecast-selected-option"),l=e.querySelector(".spl-weather-forecast-select-svg"),a=e.querySelector(".spl-weather-select-active-item"),s=e.querySelector(".spl-weather-forecast-select-list");a.addEventListener("click",()=>{let e=s.classList.contains("sp-d-flex");s.classList.toggle("sp-d-flex",!e),s.classList.toggle("sp-d-hidden",e),l.classList.toggle("active",!e),l.classList.toggle("inactive",e)}),s.addEventListener("click",e=>{let a=s.querySelector(".spl-weather-forecast-select-item.active");a.classList.remove("active");let r=e.target.closest(".spl-weather-forecast-select-item");r.classList.add("active"),t.innerText=r.innerText,t.dataset.value=r.dataset.value,s.classList.replace("sp-d-flex","sp-d-hidden"),l.classList.replace("active","inactive")})})}function initializedForecastDataToggle(e){let t=e.querySelectorAll(".splwb-forecast");t.length>0&&t.forEach(e=>{let t=t=>e.querySelector(t),l=t=>e.querySelectorAll(t),a=t(".spl-weather-forecast-select"),s=t(".spl-weather-forecast-tabs");if(a){let r=t(".spl-weather-forecast-select-list");r?.addEventListener("click",e=>{let t=e.target.closest(".spl-weather-forecast-select-item"),a=t.dataset.value,s=l(".spl-weather-forecast-value");s?.forEach(e=>{e.querySelector(".splw-separator-gradient"),e.classList.contains("temperature");let t=e.classList.contains(a);e.classList.toggle("sp-d-hidden",!t)})})}s&&s.addEventListener("click",e=>{let a=e.target.closest(".spl-weather-forecast-tab");if(!a)return;t(".spl-weather-forecast-tab.active").classList.remove("active"),a.classList.add("active");let s=l(".spl-weather-forecast-value");s?.forEach(e=>{let t=a.dataset.value,l=e.classList.contains(t),s=e.classList.contains("temperature");s&&(e.style.display="temperature"===t?"flex":"none"),e.classList.toggle("sp-d-hidden",!l)})})})}function splwSwiperInit(e){let t=e.querySelectorAll(".spl-weather-swiper");t?.length>0&&t.forEach(e=>{let t=e.getAttribute("data-weather-carousel"),l={};try{l=JSON.parse(t)}catch(a){console.error("Invalid Swiper options JSON",a);return}new Swiper(e,l)})}function splWeatherTabsFunctionality(e){let t=e.querySelectorAll(".spl-weather-tabs-group");if(t.length>0){let l=e.querySelectorAll(".spl-weather-tab-pane");t.forEach(t=>{let a=t.querySelectorAll(".spl-weather-tab-btn");a.forEach(t=>{t.addEventListener("click",()=>{let s=t.getAttribute("data-tab");a.forEach(e=>e.classList.remove("active")),l.forEach(e=>e.classList.remove("active")),t.classList.add("active");let r=e.querySelector(`.spl-weather-tab-pane#${s}`);r&&r.classList.add("active"),"map"===s&&window.dispatchEvent(new Event("resize"))})})})}}document.addEventListener("DOMContentLoaded",function(){preloaderInitialize(),document.querySelectorAll(".sp-location-weather-block-wrapper").forEach(e=>{var t;let l=e.getAttribute("id"),a=document.getElementById(l);initializedForecastSelect(a),initializedForecastDataToggle(a),splwSwiperInit(a),splWeatherTabsFunctionality(a);let s=(t=".spl-weather-custom-slider",a.querySelectorAll(t));s.length>0&&s.forEach(e=>{customSlider(e)})})});